import{w as K,o as ge,a as he,i as Oe,g as oe,f as ze,r as Z,c as b,d as Pe,b as $e,e as Ze,h as Ie,s as je,n as ee,j as Le,k as He,l as Ke,m as M,p as ue,u as we,q as _e,t as Qe,Q as qe,v as Je,x as re,T as We,y as Ge,z as Xe,A as Ce,B as Me,C as Ye,D as ie,E as et,F as Fe,G,H as d,I as J,J as Y,K as se,L as te,M as x,N as Se,O as T,P as ne,R as tt}from"./index.95af5471.js";function ot({validate:e,resetValidation:t,requiresQForm:n}){const a=Oe(ze,!1);if(a!==!1){const{props:s,proxy:h}=oe();Object.assign(h,{validate:e,resetValidation:t}),K(()=>s.disable,y=>{y===!0?(typeof t=="function"&&t(),a.unbindComponent(h)):a.bindComponent(h)}),ge(()=>{s.disable!==!0&&a.bindComponent(h)}),he(()=>{s.disable!==!0&&a.unbindComponent(h)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Ve=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Be=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Re=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,de=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,ce=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,pe={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Ve.test(e),hexaColor:e=>Be.test(e),hexOrHexaColor:e=>Re.test(e),rgbColor:e=>de.test(e),rgbaColor:e=>ce.test(e),rgbOrRgbaColor:e=>de.test(e)||ce.test(e),hexOrRgbColor:e=>Ve.test(e)||de.test(e),hexaOrRgbaColor:e=>Be.test(e)||ce.test(e),anyColor:e=>Re.test(e)||de.test(e)||ce.test(e)},lt=[!0,!1,"ondemand"],nt={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>lt.includes(e)}};function at(e,t){const{props:n,proxy:a}=oe(),s=Z(!1),h=Z(null),y=Z(null);ot({validate:U,resetValidation:F});let B=0,q;const A=b(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length>0),S=b(()=>n.disable!==!0&&A.value===!0),w=b(()=>n.error===!0||s.value===!0),P=b(()=>typeof n.errorMessage=="string"&&n.errorMessage.length>0?n.errorMessage:h.value);K(()=>n.modelValue,()=>{W()}),K(()=>n.reactiveRules,I=>{I===!0?q===void 0&&(q=K(()=>n.rules,()=>{W(!0)})):q!==void 0&&(q(),q=void 0)},{immediate:!0}),K(e,I=>{I===!0?y.value===null&&(y.value=!1):y.value===!1&&(y.value=!0,S.value===!0&&n.lazyRules!=="ondemand"&&t.value===!1&&E())});function F(){B++,t.value=!1,y.value=null,s.value=!1,h.value=null,E.cancel()}function U(I=n.modelValue){if(S.value!==!0)return!0;const m=++B,g=t.value!==!0?()=>{y.value=!0}:()=>{},C=(o,u)=>{o===!0&&g(),s.value=o,h.value=u||null,t.value=!1},_=[];for(let o=0;o<n.rules.length;o++){const u=n.rules[o];let i;if(typeof u=="function"?i=u(I,pe):typeof u=="string"&&pe[u]!==void 0&&(i=pe[u](I)),i===!1||typeof i=="string")return C(!0,i),!1;i!==!0&&i!==void 0&&_.push(i)}return _.length===0?(C(!1),!0):(t.value=!0,Promise.all(_).then(o=>{if(o===void 0||Array.isArray(o)===!1||o.length===0)return m===B&&C(!1),!0;const u=o.find(i=>i===!1||typeof i=="string");return m===B&&C(u!==void 0,u),u===void 0},o=>(m===B&&(console.error(o),C(!0)),!1)))}function W(I){S.value===!0&&n.lazyRules!=="ondemand"&&(y.value===!0||n.lazyRules!==!0&&I!==!0)&&E()}const E=Pe(U,0);return he(()=>{q!==void 0&&q(),E.cancel()}),Object.assign(a,{resetValidation:F,validate:U}),$e(a,"hasError",()=>w.value),{isDirtyModel:y,hasRules:A,hasError:w,errorMessage:P,validate:U,resetValidation:F}}const Ae=/^on[A-Z]/;function rt(e,t){const n={listeners:Z({}),attributes:Z({})};function a(){const s={},h={};for(const y in e)y!=="class"&&y!=="style"&&Ae.test(y)===!1&&(s[y]=e[y]);for(const y in t.props)Ae.test(y)===!0&&(h[y]=t.props[y]);n.attributes.value=s,n.listeners.value=h}return Ze(a),a(),n}let be,fe=0;const O=new Array(256);for(let e=0;e<256;e++)O[e]=(e+256).toString(16).substring(1);const ut=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let a=t;a>0;a--)n.push(Math.floor(Math.random()*256));return n}})(),Ee=4096;function it(){(be===void 0||fe+16>Ee)&&(fe=0,be=ut(Ee));const e=Array.prototype.slice.call(be,fe,fe+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,O[e[0]]+O[e[1]]+O[e[2]]+O[e[3]]+"-"+O[e[4]]+O[e[5]]+"-"+O[e[6]]+O[e[7]]+"-"+O[e[8]]+O[e[9]]+"-"+O[e[10]]+O[e[11]]+O[e[12]]+O[e[13]]+O[e[14]]+O[e[15]]}function ke(e){return e===void 0?`f_${it()}`:e}function xe(e){return e!=null&&(""+e).length>0}const st={...we,...nt,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},dt=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function ct(){const{props:e,attrs:t,proxy:n,vnode:a}=oe();return{isDark:_e(e,n.$q),editable:b(()=>e.disable!==!0&&e.readonly!==!0),innerLoading:Z(!1),focused:Z(!1),hasPopupOpen:!1,splitAttrs:rt(t,a),targetUid:Z(ke(e.for)),rootRef:Z(null),targetRef:Z(null),controlRef:Z(null)}}function ft(e){const{props:t,emit:n,slots:a,attrs:s,proxy:h}=oe(),{$q:y}=h;let B;e.hasValue===void 0&&(e.hasValue=b(()=>xe(t.modelValue))),e.emitValue===void 0&&(e.emitValue=l=>{n("update:modelValue",l)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:f,onFocusout:v}),Object.assign(e,{clearValue:c,onControlFocusin:f,onControlFocusout:v,focus:u}),e.computedCounter===void 0&&(e.computedCounter=b(()=>{if(t.counter!==!1){const l=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,p=t.maxlength!==void 0?t.maxlength:t.maxValues;return l+(p!==void 0?" / "+p:"")}}));const{isDirtyModel:q,hasRules:A,hasError:S,errorMessage:w,resetValidation:P}=at(e.focused,e.innerLoading),F=e.floatingLabel!==void 0?b(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):b(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),U=b(()=>t.bottomSlots===!0||t.hint!==void 0||A.value===!0||t.counter===!0||t.error!==null),W=b(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),E=b(()=>`q-field row no-wrap items-start q-field--${W.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(F.value===!0?" q-field--float":"")+(m.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(S.value===!0?" q-field--error":"")+(S.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&U.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),I=b(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(S.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length>0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),m=b(()=>t.labelSlot===!0||t.label!==void 0),g=b(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&S.value!==!0?` text-${t.labelColor}`:"")),C=b(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:F.value,modelValue:t.modelValue,emitValue:e.emitValue})),_=b(()=>{const l={for:e.targetUid.value};return t.disable===!0?l["aria-disabled"]="true":t.readonly===!0&&(l["aria-readonly"]="true"),l});K(()=>t.for,l=>{e.targetUid.value=ke(l)});function o(){const l=document.activeElement;let p=e.targetRef!==void 0&&e.targetRef.value;p&&(l===null||l.id!==e.targetUid.value)&&(p.hasAttribute("tabindex")===!0||(p=p.querySelector("[tabindex]")),p&&p!==l&&p.focus({preventScroll:!0}))}function u(){Ie(o)}function i(){Qe(o);const l=document.activeElement;l!==null&&e.rootRef.value.contains(l)&&l.blur()}function f(l){clearTimeout(B),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",l))}function v(l,p){clearTimeout(B),B=setTimeout(()=>{document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1)||(e.focused.value===!0&&(e.focused.value=!1,n("blur",l)),p!==void 0&&p())})}function c(l){je(l),y.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),ee(()=>{P(),y.platform.is.mobile!==!0&&(q.value=!1)})}function V(){const l=[];return a.prepend!==void 0&&l.push(M("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:ue},a.prepend())),l.push(M("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},k())),S.value===!0&&t.noErrorIcon===!1&&l.push(j("error",[M(qe,{name:y.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?l.push(j("inner-loading-append",a.loading!==void 0?a.loading():[M(Je,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&l.push(j("inner-clearable-append",[M(qe,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||y.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:c})])),a.append!==void 0&&l.push(M("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:ue},a.append())),e.getInnerAppend!==void 0&&l.push(j("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&l.push(e.getControlChild()),l}function k(){const l=[];return t.prefix!==void 0&&t.prefix!==null&&l.push(M("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&l.push(e.getShadowControl()),e.getControl!==void 0?l.push(e.getControl()):a.rawControl!==void 0?l.push(a.rawControl()):a.control!==void 0&&l.push(M("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},a.control(C.value))),m.value===!0&&l.push(M("div",{class:g.value},re(a.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&l.push(M("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),l.concat(re(a.default))}function R(){let l,p;S.value===!0?w.value!==null?(l=[M("div",{role:"alert"},w.value)],p=`q--slot-error-${w.value}`):(l=re(a.error),p="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(l=[M("div",t.hint)],p=`q--slot-hint-${t.hint}`):(l=re(a.hint),p="q--slot-hint"));const H=t.counter===!0||a.counter!==void 0;if(t.hideBottomSpace===!0&&H===!1&&l===void 0)return;const Q=M("div",{key:p,class:"q-field__messages col"},l);return M("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:ue},[t.hideBottomSpace===!0?Q:M(We,{name:"q-transition--field-message"},()=>Q),H===!0?M("div",{class:"q-field__counter"},a.counter!==void 0?a.counter():e.computedCounter.value):null])}function j(l,p){return p===null?null:M("div",{key:l,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},p)}let L=!1;return Le(()=>{L=!0}),He(()=>{L===!0&&t.autofocus===!0&&h.focus()}),ge(()=>{Ke.value===!0&&t.for===void 0&&(e.targetUid.value=ke()),t.autofocus===!0&&h.focus()}),he(()=>{clearTimeout(B)}),Object.assign(h,{focus:u,blur:i}),function(){const p=e.getControl===void 0&&a.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,..._.value}:_.value;return M("label",{ref:e.rootRef,class:[E.value,s.class],style:s.style,...p},[a.before!==void 0?M("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:ue},a.before()):null,M("div",{class:"q-field__inner relative-position col self-stretch"},[M("div",{ref:e.controlRef,class:I.value,tabindex:-1,...e.controlEvents},V()),U.value===!0?R():null]),a.after!==void 0?M("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:ue},a.after()):null])}}const Ue={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},me={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Te=Object.keys(me);Te.forEach(e=>{me[e].regex=new RegExp(me[e].pattern)});const vt=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Te.join("")+"])|(.)","g"),Ne=/[.*+?^${}()|[\]\\]/g,D=String.fromCharCode(1),mt={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function gt(e,t,n,a){let s,h,y,B;const q=Z(null),A=Z(w());function S(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}K(()=>e.type+e.autogrow,F),K(()=>e.mask,o=>{if(o!==void 0)U(A.value,!0);else{const u=C(A.value);F(),e.modelValue!==u&&t("update:modelValue",u)}}),K(()=>e.fillMask+e.reverseFillMask,()=>{q.value===!0&&U(A.value,!0)}),K(()=>e.unmaskedValue,()=>{q.value===!0&&U(A.value)});function w(){if(F(),q.value===!0){const o=m(C(e.modelValue));return e.fillMask!==!1?_(o):o}return e.modelValue}function P(o){if(o<s.length)return s.slice(-o);let u="",i=s;const f=i.indexOf(D);if(f>-1){for(let v=o-i.length;v>0;v--)u+=D;i=i.slice(0,f)+u+i.slice(f)}return i}function F(){if(q.value=e.mask!==void 0&&e.mask.length>0&&S(),q.value===!1){B=void 0,s="",h="";return}const o=Ue[e.mask]===void 0?e.mask:Ue[e.mask],u=typeof e.fillMask=="string"&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",i=u.replace(Ne,"\\$&"),f=[],v=[],c=[];let V=e.reverseFillMask===!0,k="",R="";o.replace(vt,(p,H,Q,r,N)=>{if(r!==void 0){const $=me[r];c.push($),R=$.negate,V===!0&&(v.push("(?:"+R+"+)?("+$.pattern+"+)?(?:"+R+"+)?("+$.pattern+"+)?"),V=!1),v.push("(?:"+R+"+)?("+$.pattern+")?")}else if(Q!==void 0)k="\\"+(Q==="\\"?"":Q),c.push(Q),f.push("([^"+k+"]+)?"+k+"?");else{const $=H!==void 0?H:N;k=$==="\\"?"\\\\\\\\":$.replace(Ne,"\\\\$&"),c.push($),f.push("([^"+k+"]+)?"+k+"?")}});const j=new RegExp("^"+f.join("")+"("+(k===""?".":"[^"+k+"]")+"+)?"+(k===""?"":"["+k+"]*")+"$"),L=v.length-1,l=v.map((p,H)=>H===0&&e.reverseFillMask===!0?new RegExp("^"+i+"*"+p):H===L?new RegExp("^"+p+"("+(R===""?".":R)+"+)?"+(e.reverseFillMask===!0?"$":i+"*")):new RegExp("^"+p));y=c,B=p=>{const H=j.exec(e.reverseFillMask===!0?p:p.slice(0,c.length));H!==null&&(p=H.slice(1).join(""));const Q=[],r=l.length;for(let N=0,$=p;N<r;N++){const le=l[N].exec($);if(le===null)break;$=$.slice(le.shift().length),Q.push(...le)}return Q.length>0?Q.join(""):p},s=c.map(p=>typeof p=="string"?p:D).join(""),h=s.split(D).join(u)}function U(o,u,i){const f=a.value,v=f.selectionEnd,c=f.value.length-v,V=C(o);u===!0&&F();const k=m(V),R=e.fillMask!==!1?_(k):k,j=A.value!==R;f.value!==R&&(f.value=R),j===!0&&(A.value=R),document.activeElement===f&&ee(()=>{if(R===h){const l=e.reverseFillMask===!0?h.length:0;f.setSelectionRange(l,l,"forward");return}if(i==="insertFromPaste"&&e.reverseFillMask!==!0){const l=v-1;E.right(f,l,l);return}if(["deleteContentBackward","deleteContentForward"].indexOf(i)>-1){const l=e.reverseFillMask===!0?v===0?R.length>k.length?1:0:Math.max(0,R.length-(R===h?0:Math.min(k.length,c)+1))+1:v;f.setSelectionRange(l,l,"forward");return}if(e.reverseFillMask===!0)if(j===!0){const l=Math.max(0,R.length-(R===h?0:Math.min(k.length,c+1)));l===1&&v===1?f.setSelectionRange(l,l,"forward"):E.rightReverse(f,l,l)}else{const l=R.length-c;f.setSelectionRange(l,l,"backward")}else if(j===!0){const l=Math.max(0,s.indexOf(D),Math.min(k.length,v)-1);E.right(f,l,l)}else{const l=v-1;E.right(f,l,l)}});const L=e.unmaskedValue===!0?C(R):R;String(e.modelValue)!==L&&n(L,!0)}function W(o,u,i){const f=m(C(o.value));u=Math.max(0,s.indexOf(D),Math.min(f.length,u)),o.setSelectionRange(u,i,"forward")}const E={left(o,u,i,f){const v=s.slice(u-1).indexOf(D)===-1;let c=Math.max(0,u-1);for(;c>=0;c--)if(s[c]===D){u=c,v===!0&&u++;break}if(c<0&&s[u]!==void 0&&s[u]!==D)return E.right(o,0,0);u>=0&&o.setSelectionRange(u,f===!0?i:u,"backward")},right(o,u,i,f){const v=o.value.length;let c=Math.min(v,i+1);for(;c<=v;c++)if(s[c]===D){i=c;break}else s[c-1]===D&&(i=c);if(c>v&&s[i-1]!==void 0&&s[i-1]!==D)return E.left(o,v,v);o.setSelectionRange(f?u:i,i,"forward")},leftReverse(o,u,i,f){const v=P(o.value.length);let c=Math.max(0,u-1);for(;c>=0;c--)if(v[c-1]===D){u=c;break}else if(v[c]===D&&(u=c,c===0))break;if(c<0&&v[u]!==void 0&&v[u]!==D)return E.rightReverse(o,0,0);u>=0&&o.setSelectionRange(u,f===!0?i:u,"backward")},rightReverse(o,u,i,f){const v=o.value.length,c=P(v),V=c.slice(0,i+1).indexOf(D)===-1;let k=Math.min(v,i+1);for(;k<=v;k++)if(c[k-1]===D){i=k,i>0&&V===!0&&i--;break}if(k>v&&c[i-1]!==void 0&&c[i-1]!==D)return E.leftReverse(o,v,v);o.setSelectionRange(f===!0?u:i,i,"forward")}};function I(o){if(t("keydown",o),Ge(o)===!0)return;const u=a.value,i=u.selectionStart,f=u.selectionEnd;if(o.keyCode===37||o.keyCode===39){const v=E[(o.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];o.preventDefault(),v(u,i,f,o.shiftKey)}else o.keyCode===8&&e.reverseFillMask!==!0&&i===f?E.left(u,i,f,!0):o.keyCode===46&&e.reverseFillMask===!0&&i===f&&E.rightReverse(u,i,f,!0)}function m(o){if(o==null||o==="")return"";if(e.reverseFillMask===!0)return g(o);const u=y;let i=0,f="";for(let v=0;v<u.length;v++){const c=o[i],V=u[v];if(typeof V=="string")f+=V,c===V&&i++;else if(c!==void 0&&V.regex.test(c))f+=V.transform!==void 0?V.transform(c):c,i++;else return f}return f}function g(o){const u=y,i=s.indexOf(D);let f=o.length-1,v="";for(let c=u.length-1;c>=0&&f>-1;c--){const V=u[c];let k=o[f];if(typeof V=="string")v=V+v,k===V&&f--;else if(k!==void 0&&V.regex.test(k))do v=(V.transform!==void 0?V.transform(k):k)+v,f--,k=o[f];while(i===c&&k!==void 0&&V.regex.test(k));else return v}return v}function C(o){return typeof o!="string"||B===void 0?typeof o=="number"?B(""+o):o:B(o)}function _(o){return h.length-o.length<=0?o:e.reverseFillMask===!0&&o.length>0?h.slice(0,-o.length)+o:o+h.slice(o.length)}return{innerValue:A,hasMask:q,moveCursorForPaste:W,updateMaskValue:U,onMaskedKeydown:I}}const ht={name:String};function pt(e){return b(()=>e.name||e.for)}function bt(e,t){function n(){const a=e.modelValue;try{const s="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(a)===a&&("length"in a?Array.from(a):[a]).forEach(h=>{s.items.add(h)}),{files:s.files}}catch{return{files:void 0}}}return t===!0?b(()=>{if(e.type==="file")return n()}):b(n)}const yt=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,kt=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,xt=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,wt=/[a-z0-9_ -]$/i;function _t(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(Xe.is.firefox===!0?wt.test(n.data)===!1:yt.test(n.data)===!0||kt.test(n.data)===!0||xt.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const X=Ce({name:"QInput",inheritAttrs:!1,props:{...st,...mt,...ht,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...dt,"paste","change","keydown","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:a}=oe(),{$q:s}=a,h={};let y=NaN,B,q,A,S;const w=Z(null),P=pt(e),{innerValue:F,hasMask:U,moveCursorForPaste:W,updateMaskValue:E,onMaskedKeydown:I}=gt(e,t,j,w),m=bt(e,!0),g=b(()=>xe(F.value)),C=_t(k),_=ct(),o=b(()=>e.type==="textarea"||e.autogrow===!0),u=b(()=>o.value===!0||["text","search","url","tel","password"].includes(e.type)),i=b(()=>{const r={..._.splitAttrs.listeners.value,onInput:k,onPaste:V,onChange:l,onBlur:p,onFocus:Me};return r.onCompositionstart=r.onCompositionupdate=r.onCompositionend=C,U.value===!0&&(r.onKeydown=I),e.autogrow===!0&&(r.onAnimationend=R),r}),f=b(()=>{const r={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:P.value,..._.splitAttrs.attributes.value,id:_.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return o.value===!1&&(r.type=e.type),e.autogrow===!0&&(r.rows=1),r});K(()=>e.type,()=>{w.value&&(w.value.value=e.modelValue)}),K(()=>e.modelValue,r=>{if(U.value===!0){if(q===!0&&(q=!1,String(r)===y))return;E(r)}else F.value!==r&&(F.value=r,e.type==="number"&&h.hasOwnProperty("value")===!0&&(B===!0?B=!1:delete h.value));e.autogrow===!0&&ee(L)}),K(()=>e.autogrow,r=>{r===!0?ee(L):w.value!==null&&n.rows>0&&(w.value.style.height="auto")}),K(()=>e.dense,()=>{e.autogrow===!0&&ee(L)});function v(){Ie(()=>{const r=document.activeElement;w.value!==null&&w.value!==r&&(r===null||r.id!==_.targetUid.value)&&w.value.focus({preventScroll:!0})})}function c(){w.value!==null&&w.value.select()}function V(r){if(U.value===!0&&e.reverseFillMask!==!0){const N=r.target;W(N,N.selectionStart,N.selectionEnd)}t("paste",r)}function k(r){if(!r||!r.target)return;if(e.type==="file"){t("update:modelValue",r.target.files);return}const N=r.target.value;if(r.target.qComposing===!0){h.value=N;return}if(U.value===!0)E(N,!1,r.inputType);else if(j(N),u.value===!0&&r.target===document.activeElement){const{selectionStart:$,selectionEnd:le}=r.target;$!==void 0&&le!==void 0&&ee(()=>{r.target===document.activeElement&&N.indexOf(r.target.value)===0&&r.target.setSelectionRange($,le)})}e.autogrow===!0&&L()}function R(r){t("animationend",r),L()}function j(r,N){S=()=>{e.type!=="number"&&h.hasOwnProperty("value")===!0&&delete h.value,e.modelValue!==r&&y!==r&&(y=r,N===!0&&(q=!0),t("update:modelValue",r),ee(()=>{y===r&&(y=NaN)})),S=void 0},e.type==="number"&&(B=!0,h.value=r),e.debounce!==void 0?(clearTimeout(A),h.value=r,A=setTimeout(S,e.debounce)):S()}function L(){requestAnimationFrame(()=>{const r=w.value;if(r!==null){const N=r.parentNode.style,{overflow:$}=r.style;s.platform.is.firefox!==!0&&(r.style.overflow="hidden"),r.style.height="1px",N.marginBottom=r.scrollHeight-1+"px",r.style.height=r.scrollHeight+"px",r.style.overflow=$,N.marginBottom=""}})}function l(r){C(r),clearTimeout(A),S!==void 0&&S(),t("change",r.target.value)}function p(r){r!==void 0&&Me(r),clearTimeout(A),S!==void 0&&S(),B=!1,q=!1,delete h.value,e.type!=="file"&&setTimeout(()=>{w.value!==null&&(w.value.value=F.value!==void 0?F.value:"")})}function H(){return h.hasOwnProperty("value")===!0?h.value:F.value!==void 0?F.value:""}he(()=>{p()}),ge(()=>{e.autogrow===!0&&L()}),Object.assign(_,{innerValue:F,fieldClass:b(()=>`q-${o.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:b(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length>0),inputRef:w,emitValue:j,hasValue:g,floatingLabel:b(()=>g.value===!0||xe(e.displayValue)),getControl:()=>M(o.value===!0?"textarea":"input",{ref:w,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...f.value,...i.value,...e.type!=="file"?{value:H()}:m.value}),getShadowControl:()=>M("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(o.value===!0?"":" text-no-wrap")},[M("span",{class:"invisible"},H()),M("span",e.shadowText)])});const Q=ft(_);return Object.assign(a,{focus:v,select:c,getNativeElement:()=>w.value}),$e(a,"nativeEl",()=>w.value),Q}}),Ct=["horizontal","vertical","cell","none"],qt=Ce({name:"QMarkupTable",props:{...we,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Ct.includes(e)}},setup(e,{slots:t}){const n=oe(),a=_e(e,n.proxy.$q),s=b(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(a.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>M("div",{class:s.value},[M("table",{class:"q-table"},re(t.default))])}}),Mt=Ce({name:"QCard",props:{...we,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=oe(),a=_e(e,n),s=b(()=>"q-card"+(a.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>M(e.tag,{class:s.value},re(t.default))}});let ve;const Ft=new Uint8Array(16);function St(){if(!ve&&(ve=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ve))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ve(Ft)}const z=[];for(let e=0;e<256;++e)z.push((e+256).toString(16).slice(1));function Vt(e,t=0){return(z[e[t+0]]+z[e[t+1]]+z[e[t+2]]+z[e[t+3]]+"-"+z[e[t+4]]+z[e[t+5]]+"-"+z[e[t+6]]+z[e[t+7]]+"-"+z[e[t+8]]+z[e[t+9]]+"-"+z[e[t+10]]+z[e[t+11]]+z[e[t+12]]+z[e[t+13]]+z[e[t+14]]+z[e[t+15]]).toLowerCase()}const Bt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),De={randomUUID:Bt};function Rt(e,t,n){if(De.randomUUID&&!t&&!e)return De.randomUUID();e=e||{};const a=e.random||(e.rng||St)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=a[s];return t}return Vt(a)}function ye(e){return e.degree+(e.second/60+e.minute)/60}function At(e){const t=Math.floor(e);let n=e-t;n*=60;const a=Math.floor(n);n-=a;const s=n*60;return{degree:t,minute:a,second:s}}function ae(e){return typeof e=="number"&&(e=At(e)),`${e.degree}\xB0 ${e.minute}\u2032 ${e.second.toFixed(0)}\u2033`}const Et=d("th",{colspan:"2"}," \u5750\u6807\u589E\u91CF ",-1),Ut=d("th",{colspan:"2"}," \u6539\u6B63\u540E\u5750\u6807\u589E\u91CF ",-1),Nt=d("th",{colspan:"2"}," \u5750\u6807 ",-1),Dt=d("th",{rowspan:"2"}," \u64CD\u4F5C ",-1),$t=d("tr",null,[d("th",null,"\u0394x"),d("th",null,"\u0394y"),d("th",null,"\u0394x"),d("th",null,"\u0394y"),d("th",null,"x"),d("th",null,"y")],-1),It={"h-10":""},Tt={rowspan:"2",w:"32"},Ot={rowspan:"2",w:"72"},zt={"inline-block":"",w:"18"},Pt={"inline-block":"",w:"14"},Zt={"inline-block":"",w:"14"},jt={rowspan:"2"},Lt={rowspan:"2"},Ht={rowspan:"2",w:"54"},Kt={rowspan:"2",w:"54"},Qt={rowspan:"2"},Jt={rowspan:"2"},Wt={rowspan:"2"},Gt={"h-10":""},Xt={key:0,rowspan:"2",w:"72"},Yt={"inline-block":"",w:"18"},eo={"inline-block":"",w:"14"},to={"inline-block":"",w:"14"},oo={key:1,rowspan:"2"},lo={rowspan:"2",w:"32"},no={rowspan:"2"},ao={rowspan:"2"},ro={rowspan:"2"},uo={rowspan:"2"},io={"h-10":""},so={rowspan:"2"},co=d("tr",{"h-10":""},null,-1),fo={"h-10":""},vo=d("td",{rowspan:"1"},[d("span",{"text-lg":"","font-bold":""},"\u03A3")],-1),mo=d("td",null,null,-1),go={"h-10":""},ho={colspan:"13"},bo=Ye({__name:"index",setup(e){const t=Z(),n=ie("sdu-gccl-bi-he-dao-xian-zuo-biao-ji-suan-biao-points",[],localStorage),a=b(()=>n.value.length?n.value.map(m=>ye(m.angle)).reduce((m,g)=>m+g):0),s=ie("sdu-gccl-bi-he-dao-xian-zuo-biao-ji-suan-biao-distance",[],localStorage),h=b(()=>s.value.length?s.value.reduce((m,g)=>m+g):0),y=b(()=>{const m=360-a.value;return s.value.map(g=>m*g/h.value)}),B=b(()=>n.value.map((m,g)=>ye(m.angle)+y.value[g])),q=ie("sdu-gccl-bi-he-dao-xian-zuo-biao-ji-suan-biao-init-direction-angle",{degree:30,minute:0,second:0},localStorage),A=ie("sdu-gccl-bi-he-dao-xian-zuo-biao-ji-suan-biao-init-zuobiao",{x:3e5,y:3e5},localStorage),S=b(()=>{const m=[ye(q.value)];for(let g=0;g<n.value.length;++g)m.push(m[g]-B.value[(g+1)%n.value.length]+180);return m}),w=b(()=>s.value.map((m,g)=>({x:m*Math.cos(S.value[g]*Math.PI/180),y:m*Math.sin(S.value[g]*Math.PI/180)}))),P=b(()=>w.value.length?w.value.reduce((m,g)=>({x:m.x+g.x,y:m.y+g.y})):{x:0,y:0}),F=b(()=>s.value.map((m,g)=>({x:w.value[g].x+P.value.x*m/h.value,y:w.value[g].y+P.value.y/m*h.value}))),U=b(()=>{const m=[A.value];for(let g=0;g<F.value.length;++g)m.push({x:m[g].x+F.value[g].x,y:m[g].y+F.value[g].y});return m});function W(){n.value.push({uuid:Rt(),id:"",angle:{degree:Math.random()*360,minute:Math.random()*60,second:Math.random()*60}}),s.value.push(Math.random()*10),ee(I)}function E(m){n.value.splice(m,1),s.value.splice(m,1)}function I(){t.value.querySelectorAll("tr").forEach(m=>{m.classList.add("q-tr--no-hover")}),t.value.querySelectorAll("td").forEach(m=>{m.classList.add("q-td--no-hover")})}return ge(()=>{I()}),(m,g)=>(G(),et(Mt,{"overflow-x-auto":""},{default:Fe(()=>[d("div",{ref_key:"table",ref:t,relative:""},[J(qt,{separator:"cell"},{default:Fe(()=>[d("thead",null,[d("tr",null,[(G(),Y(te,null,se(["\u70B9\u53F7","\u8F6C\u6298\u89D2","\u6539\u6B63\u6570","\u6539\u6B63\u540E\u8F6C\u6298\u89D2","\u65B9\u4F4D\u89D2\u03B1","\u8FB9\u957F"],C=>d("th",{key:C,rowspan:"2"},T(C),1)),64)),Et,Ut,Nt,Dt]),$t]),d("tbody",null,[(G(!0),Y(te,null,se(x(n),(C,_)=>(G(),Y(te,{key:C.uuid},[d("tr",It,[d("td",Tt,[J(X,{modelValue:C.id,"onUpdate:modelValue":o=>C.id=o,outlined:"",dense:""},null,8,["modelValue","onUpdate:modelValue"])]),d("td",Ot,[d("div",zt,[J(X,{outlined:"",dense:"","model-value":C.angle.degree,"onUpdate:modelValue":o=>{C.angle.degree=isNaN(parseFloat(o))?0:parseFloat(o)}},null,8,["model-value","onUpdate:modelValue"])]),ne(" \xB0 "),d("div",Pt,[J(X,{outlined:"",dense:"","model-value":C.angle.minute,"onUpdate:modelValue":o=>{C.angle.minute=isNaN(parseFloat(o))?0:parseFloat(o)}},null,8,["model-value","onUpdate:modelValue"])]),ne(" \u2032 "),d("div",Zt,[J(X,{outlined:"",dense:"","model-value":C.angle.second,"onUpdate:modelValue":o=>{C.angle.second=isNaN(parseFloat(o))?0:parseFloat(o)}},null,8,["model-value","onUpdate:modelValue"])]),ne(" \u2033 ")]),d("td",jt,T(x(ae)(x(y)[_])),1),d("td",Lt,T(x(ae)(x(B)[_])),1),_===0?(G(),Y(te,{key:0},se(6,o=>d("td",{key:o})),64)):tt("",!0),_===0?(G(),Y(te,{key:1},[d("td",Ht,[J(X,{outlined:"",dense:"","model-value":x(A).x,"onUpdate:modelValue":g[0]||(g[0]=o=>{x(A).x=isNaN(parseFloat(o))?0:parseFloat(o)})},null,8,["model-value"])]),d("td",Kt,[J(X,{outlined:"",dense:"","model-value":x(A).y,"onUpdate:modelValue":g[1]||(g[1]=o=>{x(A).y=isNaN(parseFloat(o))?0:parseFloat(o)})},null,8,["model-value"])])],64)):(G(),Y(te,{key:2},[d("td",Qt,T(x(U)[_].x.toFixed(5)),1),d("td",Jt,T(x(U)[_].y.toFixed(5)),1)],64)),d("td",Wt,[J(Se,{icon:"delete",color:"negative",round:"",onClick:()=>E(_)},null,8,["onClick"])])]),d("tr",Gt,[_===0?(G(),Y("td",Xt,[d("div",Yt,[J(X,{outlined:"",dense:"","model-value":x(q).degree,"onUpdate:modelValue":g[2]||(g[2]=o=>{x(q).degree=isNaN(parseFloat(o))?0:parseFloat(o)})},null,8,["model-value"])]),ne(" \xB0 "),d("div",eo,[J(X,{outlined:"",dense:"","model-value":x(q).minute,"onUpdate:modelValue":g[3]||(g[3]=o=>{x(q).minute=isNaN(parseFloat(o))?0:parseFloat(o)})},null,8,["model-value"])]),ne(" \u2032 "),d("div",to,[J(X,{outlined:"",dense:"","model-value":x(q).second,"onUpdate:modelValue":g[4]||(g[4]=o=>{x(q).second=isNaN(parseFloat(o))?0:parseFloat(o)})},null,8,["model-value"])]),ne(" \u2033 ")])):(G(),Y("td",oo,T(x(ae)(x(S)[_])),1)),d("td",lo,[J(X,{outlined:"",dense:"","model-value":x(s)[_],"onUpdate:modelValue":o=>{x(s)[_]=isNaN(parseFloat(o))?0:parseFloat(o)}},null,8,["model-value","onUpdate:modelValue"])]),d("td",no,T(x(w)[_].x.toFixed(5)),1),d("td",ao,T(x(w)[_].y.toFixed(5)),1),d("td",ro,T(x(F)[_].x.toFixed(5)),1),d("td",uo,T(x(F)[_].y.toFixed(5)),1)])],64))),128)),d("tr",io,[d("td",so,[J(Se,{round:"",color:"primary",icon:"add",onClick:W})]),(G(),Y(te,null,se(3,C=>d("td",{key:C,rowspan:"2"})),64))]),co,d("tr",fo,[vo,d("td",null,T(x(ae)(x(a))),1),d("td",null,T(x(ae)(360-x(a))),1),d("td",null,T(x(ae)(360)),1),mo,d("td",null,T(x(h).toFixed(5)),1),d("td",null,T(x(P).x.toFixed(5)),1),d("td",null,T(x(P).y.toFixed(5)),1)]),d("tr",go,[d("td",ho," fD = "+T(Math.sqrt(Math.pow(x(P).x,2)+Math.pow(x(P).y,2))/x(h)),1)])])]),_:1})],512)]),_:1}))}});export{bo as default};
